/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{314:function(Da,ta,aa){aa.r(ta);aa.d(ta,"ByteRangeRequest",function(){return h});var oa=aa(2),ja=aa(0);aa.n(ja);var la=aa(1),da=aa(108);Da=aa(65);var y=aa(175),x=aa(52),w=aa(47),f=aa(174),a=aa(119);aa=aa(268);var e=[],b=[],n=window,ba=function(){return function(){this.Wi=1}}(),r;(function(ca){ca[ca.UNSENT=0]="UNSENT";ca[ca.DONE=4]="DONE"})(r||(r={}));var h=function(){function ca(ha,ea,ia,fa){var pa=this;this.url=ha;this.range=
ea;this.Od=ia;this.withCredentials=fa;this.dQ=r;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);n.Uint8Array&&(this.request.responseType="arraybuffer");fa&&(this.request.withCredentials=fa);z.DISABLE_RANGE_HEADER||(Object(ja.isUndefined)(ea.stop)?this.request.setRequestHeader("Range","bytes="+ea.start):this.request.setRequestHeader("Range",["bytes=",ea.start,"-",ea.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");ia&&Object.keys(ia).forEach(function(wa){pa.request.setRequestHeader(wa,
ia[wa])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=f.a.NOT_STARTED}ca.prototype.start=function(ha){var ea=this,ia=this.request;ia.onreadystatechange=function(){if(ea.aborted)return ea.status=f.a.ABORTED,ha({code:f.a.ABORTED});if(this.readyState===ea.dQ.DONE){ea.nv();var fa=0===window.document.URL.indexOf("file:///");200===ia.status||206===ia.status||fa&&0===ia.status?
(fa=n.BI(this),ea.jD(fa,ha)):(ea.status=f.a.ERROR,ha({code:ea.status,status:ea.status}))}};this.request.send(null);this.status=f.a.STARTED};ca.prototype.jD=function(ha,ea){this.status=f.a.SUCCESS;if(ea)return ea(!1,ha)};ca.prototype.abort=function(){this.nv();this.aborted=!0;this.request.abort()};ca.prototype.nv=function(){var ha=Object(a.c)(this.url,this.range,b);-1!==ha&&b.splice(ha,1);if(0<e.length){ha=e.shift();var ea=new ca(ha.url,ha.range,this.Od,this.withCredentials);ha.request=ea;b.push(ha);
ea.start(Object(a.d)(ha))}};ca.prototype.extend=function(ha){var ea=Object.assign({},this,ha.prototype);ea.constructor=ha;return ea};return ca}(),z=function(ca){function ha(ea,ia,fa,pa,wa){fa=ca.call(this,ea,fa,pa)||this;fa.Yi={};fa.bu=ia;fa.url=ea;fa.DISABLE_RANGE_HEADER=!1;fa.Or=h;fa.XD=3;fa.Od=wa||{};return fa}Object(oa.c)(ha,ca);ha.prototype.hq=function(ea,ia,fa){var pa=-1===ea.indexOf("?")?"?":"&";switch(fa){case !1:case w.a.NEVER_CACHE:ea=ea+pa+"_="+Object(ja.uniqueId)();break;case !0:case w.a.CACHE:ea=
ea+pa+"_="+ia.start+","+(Object(ja.isUndefined)(ia.stop)?"":ia.stop)}return ea};ha.prototype.dH=function(ea,ia,fa,pa){void 0===fa&&(fa={});return new this.Or(ea,ia,fa,pa)};ha.prototype.eV=function(ea,ia,fa,pa,wa){for(var ka=0;ka<e.length;ka++)if(Object(ja.isEqual)(e[ka].range,ia)&&Object(ja.isEqual)(e[ka].url,ea))return e[ka].Xe.push(pa),e[ka].fw++,null;for(ka=0;ka<b.length;ka++)if(Object(ja.isEqual)(b[ka].range,ia)&&Object(ja.isEqual)(b[ka].url,ea))return b[ka].Xe.push(pa),b[ka].fw++,null;fa={url:ea,
range:ia,bu:fa,Xe:[pa],fw:1};if(0===e.length&&b.length<this.XD)return b.push(fa),fa.request=this.dH(ea,ia,wa,this.withCredentials),fa;e.push(fa);return null};ha.prototype.fk=function(ea,ia,fa){var pa=this.hq(ea,ia,this.bu);(ea=this.eV(pa,ia,this.bu,fa,this.Od))&&ea.request.start(Object(a.d)(ea));return function(){var wa=Object(a.c)(pa,ia,b);if(-1!==wa){var ka=--b[wa].fw;0===ka&&b[wa].request&&b[wa].request.abort()}else wa=Object(a.c)(pa,ia,e),-1!==wa&&(ka=--e[wa].fw,0===ka&&e.splice(wa,1))}};ha.prototype.nI=
function(){return{start:-da.a}};ha.prototype.HX=function(){var ea=-(da.a+da.e);return{start:ea-da.d,end:ea}};ha.prototype.ko=function(ea){var ia=this;this.gu=!0;var fa=da.a;this.fk(this.url,this.nI(),function(pa,wa,ka){function va(){var sa=ia.Oc.kI();ia.fk(ia.url,sa,function(xa,za){if(xa)return Object(la.i)("Error loading central directory: "+xa),ea(xa);za=Object(x.a)(za);if(za.length!==sa.stop-sa.start)return ea("Invalid XOD file: Zip central directory data is wrong size! Should be "+(sa.stop-sa.start)+
" but is "+za.length);ia.Oc.fL(za);ia.mz=!0;ia.gu=!1;return ea(!1)})}if(pa)return Object(la.i)("Error loading end header: "+pa),ea(pa,wa,ka);wa=Object(x.a)(wa);if(wa.length!==fa)return ea("Invalid XOD file: Zip end header data is wrong size!");try{ia.Oc=new y.a(wa)}catch(sa){return ea(sa)}ia.Oc.XY?ia.fk(ia.url,ia.HX(),function(sa,xa){if(sa)return Object(la.i)("Error loading zip64 header: "+sa),ea(sa);xa=Object(x.a)(xa);ia.Oc.lZ(xa);va()}):va()})};ha.prototype.zI=function(ea){ea(Object.keys(this.Oc.Lj))};
ha.prototype.nC=function(ea,ia){var fa=this;if(this.Oc.XG(ea)){var pa=this.Oc.gv(ea);if(pa in this.Yi){var wa=this.Rf[ea];wa.rn=this.Yi[pa];wa.rn.Wi++;wa.cancel=wa.rn.cancel}else{var ka=this.Oc.oW(ea),va=this.fk(this.url,ka,function(xa,za){xa?(Object(la.i)('Error loading part "'+ea+'": '+xa),fa.fk(fa.url,ka,function(ua,Aa){if(ua)return ia(ua,ea);fa.jL(Aa,ka,pa,ea,ia)})):fa.jL(za,ka,pa,ea,ia)}),sa=this.Rf[ea];sa&&(sa.gN=!0,sa.cancel=function(){sa.rn.Wi--;0===sa.rn.Wi&&(va(),delete fa.Yi[pa])},this.Yi[pa]=
new ba(pa),sa.rn=this.Yi[pa],sa.rn.cancel=sa.cancel)}}else delete this.Rf[ea],ia(Error('File not found: "'+ea+'"'),ea)};ha.prototype.jL=function(ea,ia,fa,pa,wa){if(ea.length!==ia.stop-ia.start)wa(Error("Part data is wrong size!"),pa);else{do{if(!this.Yi[fa])return;pa=this.Yi[fa].Wi;for(var ka=ia.om.length,va=0;va<ka;++va){var sa=ia.om[va];wa(!1,sa.km,ea["string"===typeof ea?"substring":"subarray"](sa.start,sa.stop),this.Oc.vJ(sa.km));sa.km in this.Rf&&delete this.Rf[sa.km]}}while(pa!==this.Yi[fa].Wi);
delete this.Yi[fa]}};ha.DISABLE_RANGE_HEADER=!1;ha.XD=3;return ha}(Da.a);(function(ca){function ha(ea,ia,fa){var pa=ca.call(this)||this,wa;for(wa in ea)pa[wa]=ea[wa];pa.q$=ea;pa.startOffset=ia;pa.endOffset=fa;pa.dH=function(ka,va,sa,xa){Object(ja.isUndefined)(va.stop)?(va.start+=pa.endOffset,va.stop=pa.endOffset):(va.start+=pa.startOffset,va.stop+=pa.startOffset);ka=pa.hq(pa.url,va,pa.bu);return new ea.Or(ka,va,sa,xa)};return pa}Object(oa.c)(ha,ca);return ha})(z);Object(aa.a)(z);Object(aa.b)(z);ta["default"]=
z}}]);}).call(this || window)
